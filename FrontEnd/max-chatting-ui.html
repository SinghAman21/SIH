<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Enhanced Chat Interface</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        background-color: #f5f5f5;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
      }

      .main-container {
        display: flex;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        width: 100%;
        height: 100%;
      }

      .chat-list {
        width: 30%;
        background-color: white;
        border-right: 1px solid #ddd;
        overflow-y: auto;
      }

      .chat-item{
        display: flex;
        align-items: center;
        padding: 15px;
        border-bottom: 1px solid #eee;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .chat-header{
        display: flex;
        align-items: center;
        padding: 15px;
        border-bottom: 1px solid #eee;
        /* cursor: pointer; */
      }

      .chat-item:hover {
        background-color: #f0f0f0;
      }

      .avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-right: 15px;
      }

      .chat-info {
        flex-grow: 1;
      }

      .chat-name {
        font-weight: bold;
        margin-bottom: 5px;
      }

      .chat-last-message {
        font-size: 14px;
        color: #888;
      }

      .chat-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        background-color: white;
        overflow: hidden;
      }

      .chat-header {
        display: flex;
        align-items: center;
        padding: 15px;
        border-bottom: 1px solid #ddd;
        background-color: #f9f9f9;
      }

      .chat-header .avatar {
        width: 40px;
        height: 40px;
        margin-right: 10px;
      }

      .chat-header .chat-name {
        font-weight: bold;
        font-size: 16px;
      }

      .chat-messages {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
        display: none;
      }

      .chat-message {
        display: flex;
        align-items: flex-end;
        margin-bottom: 10px;
      }

      .chat-bubble {
        max-width: 70%;
        padding: 10px 15px;
        border-radius: 15px;
        background-color: #e0e0e0;
        position: relative;
        word-wrap: break-word;
      }

      .chat-bubble.sent {
        background-color: #222;
        color: white;
        align-self: flex-end;
      }

      .chat-bubble.received {
        background-color: #f0f0f0;
      }

      .chat-input-container {
        display: flex;
        align-items: center;
        border-top: 1px solid #ddd;
        padding: 10px;
      }

      .chat-input {
        flex: 1;
        padding: 10px;
        border: none;
        border-radius: 5px;
        outline: none;
        margin-right: 10px;
      }

      .chat-button {
        background-color: #222;
        border: none;
        border-radius: 5px;
        padding: 10px;
        cursor: pointer;
        color: white;
        margin-left: 5rem;
      }

      .icon-button {
        background-color: #f0f0f0;
        border: none;
        border-radius: 5px;
        padding: 10px;
        cursor: pointer;
        margin-right: 10px;
      }

      .chat-header {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="main-container">
      <div class="chat-list">
        <span class="chat-header">Chats</span>
        <div class="chat-item" onclick="openChat('chat1')">
          <img src="avatar1.png" alt="Avatar 1" class="avatar" />
          <div class="chat-info">
            <div class="chat-name">Riya</div>
            <div class="chat-last-message" id="last-message-chat1">
              Hey there! How's it going?
            </div>
          </div>
        </div>
        <div class="chat-item" onclick="openChat('chat2')">
          <img src="avatar2.png" alt="Avatar 2" class="avatar" />
          <div class="chat-info">
            <div class="chat-name">Asmita</div>
            <div class="chat-last-message" id="last-message-chat2">
              Sure, I will send it over.
            </div>
          </div>
        </div>
        <div class="chat-item" onclick="openChat('chat3')">
          <img src="avatar3.png" alt="Avatar 3" class="avatar" />
          <div class="chat-info">
            <div class="chat-name">Chaitrali</div>
            <div class="chat-last-message" id="last-message-chat3">
              Let's catch up tomorrow!
            </div>
          </div>
        </div>
      </div>
      <div class="chat-container">
        <!-- Chat header, initially hidden -->
        <div class="chat-header" id="chat-header">
          <img src="" alt="Avatar" class="avatar" id="chat-header-avatar" />
          <div class="chat-name" id="chat-header-name"></div>
        </div>
        <!-- Chat messages hidden by default -->
        <div class="chat-messages" id="chat1" style="display: none">
          <div class="chat-message">
            <div class="chat-bubble received">Hey there! How's it going?</div>
          </div>
          <div class="chat-message">
            <div class="chat-bubble sent">
              I'm doing great, thanks for asking!
            </div>
          </div>
          <div class="chat-message">
            <div class="chat-bubble received">
              Awesome, I'm glad to hear that! Let me know if you want to chat
              more.
            </div>
          </div>
        </div>
        <div class="chat-messages" id="chat2" style="display: none">
          <div class="chat-message">
            <div class="chat-bubble received">Did you get the files?</div>
          </div>
          <div class="chat-message">
            <div class="chat-bubble sent">Yes, I did. Thank you!</div>
          </div>
          <div class="chat-message">
            <div class="chat-bubble received">Sure, I will send it over.</div>
          </div>
        </div>
        <div class="chat-messages" id="chat3" style="display: none">
          <div class="chat-message">
            <div class="chat-bubble received">
              Hey! Are we still on for tomorrow?
            </div>
          </div>
          <div class="chat-message">
            <div class="chat-bubble sent">Yes, let's catch up tomorrow!</div>
          </div>
        </div>
        <!-- Input container, initially hidden -->
        <div class="chat-input-container" id="sendtext" style="display: none">
          <button class="icon-button" id="voiceButton">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-mic-fill"
              viewBox="0 0 16 16"
            >
              <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0z" />
              <path
                d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"
              />
            </svg>
          </button>
          <button class="icon-button" id="attachmentButton">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-paperclip"
              viewBox="0 0 16 16"
            >
              <path
                d="M5.5 6.5a.5.5 0 0 0-.5.5v5a3 3 0 0 0 6 0V6a2 2 0 0 0-4 0v5a1 1 0 0 0 2 0V7h1v4a2 2 0 0 1-4 0V7a3 3 0 0 1 6 0v5a4 4 0 0 1-8 0V7a.5.5 0 0 0-.5-.5z"
              />
            </svg>
          </button>
          <input
            type="text"
            class="chat-input"
            id="chatInput"
            placeholder="Type a message..."
          />
          <button class="chat-button" onclick="sendMessage()">
            Send
          </button>
        </div>
      </div>
    </div>
    <script>
      function openChat(chatId) {
        // Hide all chat messages
        var chatMessages = document.getElementsByClassName("chat-messages");
        for (var i = 0; i < chatMessages.length; i++) {
          chatMessages[i].style.display = "none";
        }

        // Show the selected chat messages
        var selectedChat = document.getElementById(chatId);
        selectedChat.style.display = "block";

        // Update header based on chat
        var chatName = selectedChat.parentElement.querySelector(
          ".chat-name"
        ).textContent;
        var chatAvatar = selectedChat.parentElement.querySelector(
          ".avatar"
        ).src;

        document.getElementById("chat-header-name").textContent = chatName;
        document.getElementById("chat-header-avatar").src = chatAvatar;

        document.getElementById("chat-header").style.display = "flex";
        document.getElementById("sendtext").style.display = "flex";
      }

      function sendMessage() {
        var input = document.getElementById("chatInput");
        var message = input.value.trim();

        if (message === "") return;

        var chatMessages = document.querySelector(
          ".chat-messages[style*='display: block']"
        );

        var messageContainer = document.createElement("div");
        messageContainer.classList.add("chat-message");

        var bubble = document.createElement("div");
        bubble.classList.add("chat-bubble", "sent");
        bubble.textContent = message;

        messageContainer.appendChild(bubble);
        chatMessages.appendChild(messageContainer);
        input.value = "";

        // Update last message preview
        var lastMessagePreview = chatMessages.parentElement
          .querySelector(".chat-last-message");
        lastMessagePreview.textContent = message;
      }
    </script>
  </body>
</html>
